FormatSpec = 'q[2] = {2,4};\n\npi      =  3.141592653589793238;\nmpi     = -3.141592653589793238;\npi_t    =  1.047197551196597746;\nmpi_t   = -1.047197551196597746;\nt_pi_t  =  2.094395102393195492;\nmt_pi_t = -2.094395102393195492;\n\npi_2    = 1.5707963267948966192;\n\n$ACE[2] = "./custom_gate/ACE.bin";\n$ADE[2] = "./custom_gate/ADE.bin";\n\nencoding =\n{\n    $RP[1](1, 2,      pi,  pi);\n    $RP[1](0, 1, mt_pi_t, mpi);\n    $RP[1](2, 3,    pi_t,  pi);\n    $RP[1](1, 2,     mpi, mpi);\n};\n\ndetection =\n{\n    $RP[1](1, 2,     pi,  pi);\n    $RP[1](0, 1, t_pi_t,  pi);\n    $RP[1](2, 3,  mpi_t, mpi);\n    \n    $ACE[0,1];\n    \n    measure[0];\n};\n\nrecovery_no_error =\n{\n    $RP[1](0, 1, mt_pi_t, mpi);\n    $RP[1](2, 3,    pi_t,  pi);\n    $RP[1](1, 2,     mpi, mpi);\n};\n\nrecovery_error =\n{\n    $ADE[0,1];\n\n    $RZ[1](1,3, pi_2);\n\n    $RP[1](0, 1,  mpi_t, mpi);\n    $RP[1](2, 3, t_pi_t,  pi);\n    $RP[1](1, 2,     pi,  pi);\n};\n\nrecovery =\n{\n    custom_logic::check_ancilla;\n};\n\nmain =\n{\n    encoding;\n    \n    $$IDLE[0](%.0f);\n\n    detection;\n    recovery;\n};';
FileID = fopen("../EQEC_grafico.q", "w");
fprintf(FileID, FormatSpec, t);